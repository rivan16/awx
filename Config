#@@INSTALLATION OF Kubectl

# This overwrites any existing configuration in /etc/yum.repos.d/kubernetes.repo
cat <<EOF | sudo tee /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://pkgs.k8s.io/core:/stable:/v1.31/rpm/
enabled=1
gpgcheck=1
gpgkey=https://pkgs.k8s.io/core:/stable:/v1.31/rpm/repodata/repomd.xml.key
EOF

sudo dnf install -y kubectl
sudo dnf install -y {kubelet,kubeadm,kubectl} --disableexcludes=Kubernetes
kubectl version --client

IF ERROR INSTALL THIS FIRST:
date
sudo dnf install -y chrony
sudo systemctl enable --now chronyd
sudo chronyc sources -v

***********************************************************************************

#@@INSTALLATION OF DOCKER

sudo dnf remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-selinux docker-engine-selinux docker-engine
sudo dnf -y install dnf-utils
sudo dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo
sudo dnf install docker-ce docker-ce-cli containerd.io
sudo systemctl start docker
sudo systemctl enable docker
sudo systemctl status docker
docker --version

***********************************************************************************
#@@INSTALLATION OF MINIKUBE

curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube
ls -l /usr/local/bin/minikube
sudo mv minikube-linux-amd64 /usr/local/bin/minikube
sudo chmod +x /usr/local/bin/minikube
echo $PATH
echo 'export PATH=$PATH:/usr/local/bin' >> ~/.bashrc
source ~/.bashrc
minikube version
minikube start --force
minikube status
kubectl config use-context minikube
kubectl get nodes
minikube dashboard
minikube logs
minikube stop
minikube delete
minikube start --force

#CHANGE THE IP OF MINIKUBE
minikube stop
minikube start --driver=docker --listen-address=192.168.108.141 --force




